#Carregando dois poemas de Rafael Monteiro e Vinicius de Moraes
library(tm)
setwd("/cloud/project/poemas")
arquivotxt <- c("/cloud/project/poemas")
textos <- VCorpus(DirSource(arquivotxt, encoding = "UTF-8"),readerControl = list(language = "lat"))
VCorpus(VectorSource(textos))


# inspecionando os arquivos
inspect(textos[1:2])

# identificando os textos
meta(textos[[1]], "id")
meta(textos[[2]], "id")

#visualizando os dados
inspect(textos[[1]])
inspect(textos[[2]])

#Visualizacao dos dados informando quantidade de linhas
lapply(textos[1:2], as.character)

#####################################
#        TRANSFORMACOES             #
#####################################

# Retirando os espaços em branco
textostrans <- tm_map(textos, stripWhitespace)
inspect(textostrans[[1]])

# Transformando todos os caracteres para minúsculo, para uniformizar
textostrans  <- tm_map(textostrans, content_transformer(tolower))
inspect(textostrans[[1]])

# utilizando o arquivo de stowords
stopwords("pt")
textostrans <- tm_map(textostrans, removeWords, stopwords("pt"))
inspect(textostrans[[1]])
inspect(textostrans[[2]])

# acrescentando mais stopwords
stopwords_pt <- c(stopwords("pt"), "presidente", "é", "sr", "sra","irá")
textostrans <- tm_map(textostrans, removeWords, stopwords_pt)
inspect(textostrans[[1]])
inspect(textostrans[[2]])

#  stemming, o objetivo é reduzir as palavras relacionadas ao mesmo radical.
install.packages("SnowballC")
library(SnowballC)
textostrans <- tm_map(textostrans, stemDocument)
inspect(textostrans[[1]])
inspect(textostrans[[2]])